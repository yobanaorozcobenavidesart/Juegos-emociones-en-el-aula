<!DOCTYPE html>
<html lang="es">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JUEGOS EMOCIONES EN EL AULA</title>

  <!-- Tipografías elegante y legible -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background-color: #000000;
      color: #ffffff;
      padding: 0;
    }
    
    body {
  font-family: 'Poppins', sans-serif;
}

h1, h2, h3 {
  font-family: 'Playfair Display', serif;
}


    .contenedor {
      max-width: 960px;
      margin: 40px auto;
      padding: 30px 40px;
      background-color: #111;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(255, 204, 0, 0.15);
    }

    header {
      background: linear-gradient(to right, #0a0a0a, #111111);
      padding: 20px;
      box-shadow: 0 0 20px #ffcc00;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .logo {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ffcc00;
    }

    .title-container {
      text-align: center;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5em;
      color: #ffcc00;
      margin: 0;
      text-shadow: 0 0 10px #ffcc00;
    }

    h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5em;
      color: #eeeeee;
      margin: 10px 0 20px 0;
      text-shadow: 0 0 5px #333;
    }

    .menu {
      text-align: center;
      margin-top: 30px;
    }

    .menu button {
      margin: 5px;
      padding: 10px 20px;
      background-color: #ffcc00;
      border: none;
      color: #000;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-family: 'Poppins', sans-serif;
    }

    .menu button:hover {
      background-color: #ffd633;
    }

    .opcion {
      font-size: 1.3rem;
      margin: 5px;
      padding: 10px 15px;
      cursor: pointer;
      display: inline-block;
      border-radius: 8px;
      transition: background-color 0.3s ease;
      user-select: none;
      border: 1px solid #555;
      background-color: #222;
    }

    #opciones2 .opcion {
      font-size: 1rem;
      padding: 8px 12px;
      margin: 4px;
    }

    .opcion:hover {
      background-color: #444;
    }

    .Alegría:hover     { background-color: #FFD700; color: #000; }
    .Tristeza:hover    { background-color: #2F5D9F; color: #fff; }
    .Enojo:hover       { background-color: #FF1A1A; color: #fff; }
    .Ansiedad:hover    { background-color: #888888; color: #fff; }
    .Miedo:hover       { background-color: #222222; color: #fff; }
    .Calma:hover       { background-color: #66FF99; color: #000; }
    .Confusión:hover   { background-color: #A020F0; color: #fff; }
    .Amor:hover        { background-color: #FFB6C1; color: #000; }
    .Frustración:hover { background-color: #FF7518; color: #fff; }
    .Esperanza:hover   { background-color: #32CD32; color: #fff; }
    .Orgullo:hover     { background-color: #87CEFA; color: #000; }
    .Entusiasmo:hover  { background-color: #FF69B4; color: #fff; }

    .resultado,
    #graficaDificultad {
      margin-top: 20px;
      font-weight: bold;
      text-align: center;
      color: #ffcc00;
    }

  </style>
</head>
<body>
 
<header>
  
  <div class="header-content">
   <img src="https://i.postimg.cc/c4VS2CyY/edited-image-6.jpg" alt="Logo Emocionario" class="logo" style="max-width: 200px; width: 100%; height: auto;" />

    <div class="title-container">
    <h1 style="font-size: 2em;">Emociones en el Aula</h1>
<h2 style="font-size: 1.2em; font-weight: normal;">Cada emoción es una historia y cada juego es una aventura.</h2>
      
      

    </div>
  </div>
</header>
  
<!-- Sección: ¿Qué es? -->
<section style="padding: 30px 20px; background-color: #000; color: #fff; font-family: 'Times New Roman', serif;">
  <div style="max-width: 800px; margin: 0 auto;">
    <h2 style="color: gold; margin-bottom: 15px; font-size: 1.4em;">¿Qué es?</h2>
    <p style="font-size: 1em; line-height: 1; text-align: justify;">
      Es una herramienta pedagógica digital diseñada para fortalecer la educación emocional en niños y niñas desde preescolar hasta secundaria. 
      Se basa en actividades lúdicas que permiten identificar, expresar y regular emociones de forma consciente.
    </p>

    <h3 style="color: gold; margin-top: 25px; margin-bottom: 10px;">📘 Fundamentación Legal y Curricular</h3>
    <p style="font-size: 1em; line-height: 1; text-align: justify;">
      Está alineada con la <strong>Ley 438 de 2021</strong>, los <strong>lineamientos curriculares</strong> del Ministerio de Educación 
      y los <strong>Objetivos de Desarrollo Sostenible (ODS)</strong> de la Agenda 2030, especialmente los ODS 3 (Salud y Bienestar), 
      4 (Educación de Calidad) y 16 (Paz, Justicia e Instituciones Sólidas).
    </p>

<!-- Sección: Instrucciones -->
<section style="padding: 30px 20px; background-color: #000; color: #fff; font-family: 'Times New Roman', serif;">
  <div style="max-width: 800px; margin: 0 auto;">
    <h3 style="color: gold; margin-bottom: 15px;">📜 Instrucciones</h3>

    <p style="font-size: 1em; line-height: 1; text-align: justify;">
      Este juego está diseñado para que niños, niñas, jóvenes y docentes exploren sus emociones de forma divertida y significativa.  
      Usa el menú principal para acceder a las distintas actividades haciendo clic en cada botón.
    </p>

    <p style="font-size: 1em; line-height: 1; text-align: justify; margin-top: 10px;">
      Puedes repetir las actividades todas las veces que quieras. Elige libremente según tu emoción, curiosidad o necesidad del momento.
    </p>

    <div style="font-size: 1em; line-height: 0.9; margin-top: 20px;">
      <p>🎭 <strong>Gestionar emociones:</strong> Identifica lo que sientes y cómo expresarlo.</p>
      <p>📖 <strong>Crear tu cuento o guion:</strong> Imagina historias que trabajen emociones.</p>
      <p>🎨 <strong>Jugar con el arte:</strong> Expresa lo que sientes con color y forma.</p>
      <p>🧠 <strong>Desafíos creativos:</strong> Reta tu mente y corazón con juegos emocionales.</p>
    </div>
  </div>
</section>

<!-- Frase de cierre -->
<section style="padding: 20px 20px 40px 20px; background-color: #000; color: #ffcc00; font-family: 'Times New Roman', serif;">
  <div style="max-width: 800px; margin: 0 auto; text-align: center; font-size: 0.8em; line-height: 1; font-weight: bold;">
    ¡Explora, crea, aprende y diviértete en cada rincón de esta emocionante aventura!<br>
    Estos juegos fueron creados integrando el arte, la literatura y la tecnología como herramientas clave en la educación emocional,<br>
    y puede ser transversalizado en todas las asignaturas educativas.
  </div>
</section>



<style>
  button {
    background-color: #ffcc00;
    border: none;
    color: #000;
    padding: 12px 20px;
    margin: 8px;
    cursor: pointer;
    font-weight: bold;
    border-radius: 8px;
    font-size: 1.1em;
    transition: transform 0.2s ease, background-color 0.3s ease;
    box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
  }

  button:hover {
    transform: scale(1.05);
    background-color: #e6b800;
  }

  button:active {
    transform: scale(0.95);
    background-color: #cc9900;
    box-shadow: inset 2px 2px 4px rgba(0,0,0,0.2);
  }
  
  .opcion {
  cursor: pointer;
  display: inline-block;
  font-size: 1.2rem;
  margin: 10px;
  padding: 10px;
  border: 2px solid #fff;
  border-radius: 10px;
  transition: transform 0.2s ease;
}

.opcion:hover {
  transform: scale(1.2);
}

</style>

<!-- Estilos para los botones 3D -->
<style>
  .boton-3d {
    background: linear-gradient(145deg, #FBC02D, #fff176);
    border: none;
    border-radius: 12px;
    padding: 12px 20px;
    margin: 10px;
    font-size: 16px;
    font-weight: bold;
    color: #222;
    box-shadow: 0 6px 0 #c49000, 0 8px 15px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .boton-3d:hover {
    background: linear-gradient(145deg, #fff176, #FBC02D);
    transform: translateY(-3px);
    box-shadow: 0 8px 0 #c49000, 0 12px 20px rgba(0,0,0,0.3);
  }

  .boton-3d:active {
    transform: translateY(2px);
    box-shadow: 0 3px 0 #c49000;
  }
</style>

<!-- Tus botones con estilo 3D -->
<button class="boton-3d" onclick="mostrar('emocionario')">Emocionario</button>
<button class="boton-3d" onclick="mostrar('juego1')">¿Qué sientes?</button>
<button class="boton-3d" onclick="mostrar('juego2')">EmoReto</button>
<button class="boton-3d" onclick="mostrar('ruleta')">Gira y Actúa</button>
<button class="boton-3d" onclick="mostrar('guion')">EmoGuion</button>
<button class="boton-3d" onclick="mostrar('cuento')">Emoji Cuento</button>
<button class="boton-3d" onclick="mostrar('juegoPoema')">Emoji Poema</button>

<a href="https://animaconemocion.netlify.app/">
  <button class="boton-3d">EmoAnimación</button>
</a>

<a href="https://diariodeemociones.netlify.app/">
  <button class="boton-3d">Diario Emocional</button>
</a>

<a href="https://termometroemociones.netlify.app/">
  <button class="boton-3d">Emotermómetro</button>
</a>

<a href="https://cruci-emociones.netlify.app/">
  <button class="boton-3d">Cruci-Emociones</button>
</a>

<a href="https://test-de-inteligencia-emocional.netlify.app/">
  <button class="boton-3d">Descúbrete</button>
</a>

<a href="https://lineadevidapersonal.netlify.app/">
  <button class="boton-3d">Mi Camino</button>
</a>
    <a href="https://ruedas-de-valores-y-emociones.netlify.app/">
  <button class="boton-3d">EmoValores</button>
      
      <a href="https://emoensayo-soy-unico.netlify.app/">
  <button class="boton-3d">EmoEnsayos</button>
      
</a>


      
    <div style="display: flex; justify-content: center; gap: 20px; margin: 20px 0; flex-wrap: wrap;">
  <a href="https://carpetapedagogica20252026arte.netlify.app/" target="_blank">
    <img src="https://i.postimg.cc/0NPk8pNK/edited-image-7.png"
         alt="Carpeta Pedagógica Arte Integral 2025-2026"
         style="width: 180px; border-radius: 12px; box-shadow: 0 8px 0 #444; transition: all 0.3s ease; cursor: pointer;"
         onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 0 #222'; this.style.filter='brightness(1.1)'"
         onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 0 #444'; this.style.filter='brightness(1)'"
         onmousedown="this.style.transform='scale(0.98)'; this.style.boxShadow='0 2px 0 #111'"
         onmouseup="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 0 #222'">
  </a>

  <a href="https://carpetapedagogicaeducacionemocional.netlify.app/" target="_blank">
    <img src="https://i.postimg.cc/bvtBFMPQ/edited-image-7-1.png"
         alt="Carpeta Pedagógica Educación Emocional 2026-2027"
         style="width: 180px; border-radius: 12px; box-shadow: 0 8px 0 #444; transition: all 0.3s ease; cursor: pointer;"
         onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 0 #222'; this.style.filter='brightness(1.1)'"
         onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 0 #444'; this.style.filter='brightness(1)'"
         onmousedown="this.style.transform='scale(0.98)'; this.style.boxShadow='0 2px 0 #111'"
         onmouseup="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 0 #222'">
  </a>
</div>

       

</a>


</div>
  
  <style>
  h2 {
    text-align: center;
    margin-bottom: 30px;
    font-size: 2em;
  }

  .emocionario {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-top: 40px;
  }

  .emocion {
    background-color: #111;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 10px rgba(255,255,255,0.1);
    transition: transform 0.3s;
  }

  .emocion:hover {
    transform: scale(1.05);
  }

  .color-box {
    width: 100%;
    height: 20px;
    border-radius: 8px;
    margin-bottom: 10px;
    box-shadow: 0 0 12px 4px currentColor;
  }

  .emocion h3 {
    font-size: 1.5em;
    margin-bottom: 10px;
  }

  .emocion p {
    font-size: 1em;
    margin: 6px 0;
  }

  .emocion p strong {
    display: block;
    font-size: 1.1em;
    margin-bottom: 3px;
  }

  .emocion p.mensaje {
    font-style: italic;
    color: #ccc;
    margin-top: 10px;
  }

  .emocion:nth-child(1) .color-box { background-color: #FFD700; color: #FFD700; }
  .emocion:nth-child(2) .color-box { background-color: #2F5D9F; color: #2F5D9F; }
  .emocion:nth-child(3) .color-box { background-color: #FF1A1A; color: #FF1A1A; }
  .emocion:nth-child(4) .color-box { background-color: #888888; color: #888888; }
  .emocion:nth-child(5) .color-box { background-color: #222222; color: #666666; }
  .emocion:nth-child(6) .color-box { background-color: #66FF99; color: #66FF99; }
  .emocion:nth-child(7) .color-box { background-color: #A020F0; color: #A020F0; }
  .emocion:nth-child(8) .color-box { background-color: #FFB6C1; color: #FFB6C1; }
  .emocion:nth-child(9) .color-box { background-color: #FF7518; color: #FF7518; }
  .emocion:nth-child(10) .color-box { background-color: #32CD32; color: #32CD32; }
  .emocion:nth-child(11) .color-box { background-color: #87CEFA; color: #87CEFA; }
  .emocion:nth-child(12) .color-box { background-color: #FF69B4; color: #FF69B4; }

  @media (max-width: 768px) {
    .emocionario {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .emocionario {
      grid-template-columns: 1fr;
    }
  }
</style>

<section id="emocionario" style="display: none;">

  <h2>Ilustraciones de emociones</h2>
  <div class="emocionario">
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Alegría</h3>
      <p><strong>Símbolo:</strong> ☀️ Sol, ⭐ Estrella</p>
      <p><strong>Expresión artística:</strong> Pintura brillante y baile libre</p>
      <p class="mensaje">“Hoy me siento con luz propia”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Tristeza</h3>
      <p><strong>Símbolo:</strong> 🌧️ Lluvia, 🌫️ Nube</p>
      <p><strong>Expresión artística:</strong> Acuarela azul degradada</p>
      <p class="mensaje">“Mi alma necesita un abrazo”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Enojo</h3>
      <p><strong>Símbolo:</strong> 🔥 Fuego, 🌋 Volcán</p>
      <p><strong>Expresión artística:</strong> Collage rasgado de rojos y negros</p>
      <p class="mensaje">“Estoy hirviendo, necesito calmarme”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Ansiedad</h3>
      <p><strong>Símbolo:</strong> 🌪️ Torbellino, 🔁 Espiral</p>
      <p><strong>Expresión artística:</strong> Dibujo con líneas cerradas y repetitivas</p>
      <p class="mensaje">“Tengo un nudo en la panza”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Miedo</h3>
      <p><strong>Símbolo:</strong> 👤 Sombra, 👻 Fantasma</p>
      <p><strong>Expresión artística:</strong> Teatro de sombras</p>
      <p class="mensaje">“Hay cosas que no entiendo y me asustan”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Calma</h3>
      <p><strong>Símbolo:</strong> 🌳 Árbol, 🌊 Río</p>
      <p><strong>Expresión artística:</strong> Pintura de mandalas</p>
      <p class="mensaje">“Hoy todo fluye con tranquilidad”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Confusión</h3>
      <p><strong>Símbolo:</strong> ❓ Signo de interrogación, 🌫️ Niebla</p>
      <p><strong>Expresión artística:</strong> Garabato libre en técnica mixta</p>
      <p class="mensaje">“No sé qué siento, pero quiero entenderlo”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Amor</h3>
      <p><strong>Símbolo:</strong> ❤️ Corazón, 🤝 Manos</p>
      <p><strong>Expresión artística:</strong> Cartas ilustradas de gratitud</p>
      <p class="mensaje">“Hoy quiero abrazar sin palabras”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Frustración</h3>
      <p><strong>Símbolo:</strong> ⚡ Rayo roto, ❌ Cruz</p>
      <p><strong>Expresión artística:</strong> Pintura a presión con esponja</p>
      <p class="mensaje">“Nada me sale como quiero, pero sigo intentando”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Esperanza</h3>
      <p><strong>Símbolo:</strong> 🌱 Brote, 🪁 Cometa</p>
      <p><strong>Expresión artística:</strong> Origami / collage de sueños</p>
      <p class="mensaje">“Todo puede mejorar, lo creo y lo siento”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Orgullo</h3>
      <p><strong>Símbolo:</strong> 🏅 Medalla, 🦁 León</p>
      <p><strong>Expresión artística:</strong> Escultura o dibujo de logros</p>
      <p class="mensaje">“Me siento bien por lo que logré”</p>
    </div>
    <div class="emocion">
      <div class="color-box"></div>
      <h3>Entusiasmo</h3>
      <p><strong>Símbolo:</strong> 🎉 Confeti, 🔆 Chispa</p>
      <p><strong>Expresión artística:</strong> Collage colorido con movimiento</p>
      <p class="mensaje">“¡Quiero compartir esta emoción con todos!”</p>
    </div>
  </div>
</section>


<div id="juego1" style="display:none;">
  <h2 id="pregunta"></h2>
  <div id="opciones" style="margin: 20px 0;"></div>
  <div id="resultado" style="margin-bottom: 20px;"></div>

  <!-- Canvas de dibujo -->
  <div id="zonaDibujo" style="margin-top: 30px;">
  <p>🎨 DIBUJA</p>
    <div style="margin-top: 10px;">
 

  <button onclick="modoBorrador()" style="margin-left: 10px; padding: 6px 12px;">
    ✏️ Cambiar a Borrador / Lápiz
  </button>

  <button onclick="limpiarCanvas()" style="margin-left: 10px; padding: 6px 12px;">
    🗑️ Limpiar Dibujo
  </button>
</div>

  <!-- Selector de color -->
  <label for="colorSeleccionado">Selecciona un color:</label>
  <input type="color" id="colorSeleccionado" value="#000000" style="width: 60px; height: 30px; border: none; margin-bottom: 10px;" />

  <!-- Canvas para dibujar -->
  <br>
  <canvas id="canvas" width="500" height="400" style="border:2px solid #000; background:#fff;"></canvas><br>

  <!-- Botón para limpiar -->
  <button onclick="limpiarCanvas()">🧽 Limpiar</button>
</div>

</div>


<section id="juego2" style="display: none;">
  <h2>Sube de Nivel</h2>
  <div id="descripcion"></div>
  <div id="opciones2"></div>
  <div class="resultado" id="resultado2"></div>
  <div id="graficaDificultad"></div>
  <div id="termometro" style="margin-top: 20px; font-size: 24px;">
  Emoción: <span id="emoji">😐</span> <span id="valorEmocion">50</span>/100
</div>

</section>  
  

<script>
  // Juego 1: emociones con dibujo
 // Juego 1
const preguntasJuego1 = [
  {
    pregunta: "Elige tu emoción y dibuja el porqué",
    opciones: [
      { texto: "😀", emocion: "Alegría" },
      { texto: "😢", emocion: "Tristeza" },
      { texto: "😡", emocion: "Enojo" },
      { texto: "😰", emocion: "Ansiedad" },
      { texto: "😨", emocion: "Miedo" },
      { texto: "😌", emocion: "Calma" },
      { texto: "😕", emocion: "Confusión" },
      { texto: "😍", emocion: "Amor" },
      { texto: "😤", emocion: "Frustración" },
      { texto: "🌟", emocion: "Esperanza" },
      { texto: "😎", emocion: "Orgullo" },
      { texto: "🤩", emocion: "Entusiasmo" }
    ]
  }
];
  
let herramienta = "pincel"; // nuevo


function mostrarPregunta1() {
  const datos = preguntasJuego1[0];
  document.getElementById('pregunta').textContent = datos.pregunta;
  const opcionesElem = document.getElementById('opciones');
  const resultadoElem = document.getElementById('resultado');
  opcionesElem.innerHTML = "";
  resultadoElem.textContent = "";
  document.getElementById('zonaDibujo').style.display = "block"; // siempre mostrar el canvas

  datos.opciones.forEach(opcion => {
    const btn = document.createElement('div');
    btn.className = 'opcion ' + opcion.emocion; // ← para aplicar estilo por emoción
    btn.textContent = opcion.texto;
    btn.title = opcion.emocion;
    btn.onclick = () => {
      resultadoElem.innerHTML = `¡Parece que estás sintiendo: <strong>${opcion.emocion}</strong>!`;
    };
    opcionesElem.appendChild(btn);
  });

 activarDibujo();
  }

 function activarDibujo() {
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const colorPicker = document.getElementById('colorSeleccionado');
  let dibujando = false;
  let prevX = 0;
  let prevY = 0;

  const getPos = (e) => {
    const rect = canvas.getBoundingClientRect();
    const clientX = e.touches ? e.touches[0].clientX : e.clientX;
    const clientY = e.touches ? e.touches[0].clientY : e.clientY;
    return {
      x: clientX - rect.left,
      y: clientY - rect.top
    };
  };

  const comenzarDibujo = (e) => {
    dibujando = true;
    const { x, y } = getPos(e);
    prevX = x;
    prevY = y;
  };

  const moverDibujo = (e) => {
    if (!dibujando) return;
    e.preventDefault();
    const { x, y } = getPos(e);
    ctx.beginPath();
    ctx.strokeStyle = herramienta === "pincel" ? colorPicker.value : "#ffffff";
    ctx.lineWidth = 5;
    ctx.lineCap = "round";
    ctx.moveTo(prevX, prevY);
    ctx.lineTo(x, y);
    ctx.stroke();
    prevX = x;
    prevY = y;
  };

  const terminarDibujo = () => {
    dibujando = false;
  };

  // Ratón
  canvas.onmousedown = comenzarDibujo;
  canvas.onmousemove = moverDibujo;
  canvas.onmouseup = terminarDibujo;
  canvas.onmouseout = terminarDibujo;

  // Táctil
  canvas.ontouchstart = comenzarDibujo;
  canvas.ontouchmove = moverDibujo;
  canvas.ontouchend = terminarDibujo;
}


  function limpiarCanvas() {
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  function modoBorrador() {
  herramienta = herramienta === "pincel" ? "borrador" : "pincel";
  alert("Herramienta actual: " + (herramienta === "pincel" ? "Pincel" : "Borrador"));
}



  // Juego 2: sube de nivel
 const preguntasJuego2 = [
   { descripcion: "Siento una energía luminosa dentro de mí, como si todo fuera posible.", opciones: ["Alegría", "Tristeza", "Enojo"], correcta: "Alegría", dificultad: 1 },
    { descripcion: "Tengo ganas de llorar, siento un vacío y mucha nostalgia.", opciones: ["Enojo", "Tristeza", "Amor"], correcta: "Tristeza", dificultad: 1 },
    { descripcion: "Todo me molesta, siento que estoy a punto de explotar.", opciones: ["Ansiedad", "Alegría", "Enojo"], correcta: "Enojo", dificultad: 1 },
    { descripcion: "Estoy preocupado por lo que podría pasar, me cuesta respirar tranquilo.", opciones: ["Ansiedad", "Calma", "Esperanza"], correcta: "Ansiedad", dificultad: 1 },
    { descripcion: "Me siento en paz, respiro profundo y todo está bien.", opciones: ["Miedo", "Calma", "Frustración"], correcta: "Calma", dificultad: 1 },
    { descripcion: "Mi corazón se acelera y siento un temor intenso ante lo desconocido.", opciones: ["Miedo", "Amor", "Diversión"], correcta: "Miedo", dificultad: 1 },
    { descripcion: "Me frustro porque las cosas no salen como quiero, pero sigo intentando.", opciones: ["Frustración", "Calma", "Confianza"], correcta: "Frustración", dificultad: 1 },
    { descripcion: "Tengo esperanza de que algo bueno está por venir.", opciones: ["Esperanza", "Tristeza", "Enojo"], correcta: "Esperanza", dificultad: 1 },
    { descripcion: "Confío en mí mismo y en mis habilidades para superar retos.", opciones: ["Confianza", "Ansiedad", "Sorpresa"], correcta: "Confianza", dificultad: 1 },
  
   
  { descripcion: "A pesar de la oscuridad del momento, siento un destello cálido que me impulsa a seguir avanzando.", opciones: ["Esperanza", "Tristeza", "Frustración"], correcta: "Esperanza", dificultad: 2 },
  { descripcion: "Me invaden pensamientos catastróficos sin razón aparente, y mi cuerpo reacciona con una inquietud constante.", opciones: ["Ansiedad", "Miedo", "Sorpresa"], correcta: "Ansiedad", dificultad: 2 },
  { descripcion: "Cada contratiempo parece un muro infranqueable, y la impotencia me nubla la razón.", opciones: ["Frustración", "Enojo", "Tristeza"], correcta: "Frustración", dificultad: 2 },
  { descripcion: "Una corriente serena me envuelve, como si el mundo exterior estuviera en pausa.", opciones: ["Calma", "Indiferencia", "Esperanza"], correcta: "Calma", dificultad: 2 },
  { descripcion: "No esperaba lo que ocurrió. Me paraliza la novedad y me obliga a reconfigurar todo lo que pensaba.", opciones: ["Sorpresa", "Miedo", "Ansiedad"], correcta: "Sorpresa", dificultad: 2 },
  { descripcion: "Me siento pleno, como si la energía vital vibrara armónicamente dentro de mí.", opciones: ["Alegría", "Amor", "Confianza"], correcta: "Alegría", dificultad: 2 },
  { descripcion: "Percibo una sensación de vacío, como si algo valioso se hubiese esfumado sin despedirse.", opciones: ["Tristeza", "Enojo", "Frustración"], correcta: "Tristeza", dificultad: 2 },
  { descripcion: "La presencia del otro provoca en mí un deseo de cuidado, admiración y conexión profunda.", opciones: ["Amor", "Alegría", "Esperanza"], correcta: "Amor", dificultad: 2 },
  { descripcion: "Aunque hay razones para dudar, elijo creer en mis capacidades y mantenerme firme.", opciones: ["Confianza", "Esperanza", "Alegría"], correcta: "Confianza", dificultad: 2 },
  { descripcion: "Siento una mezcla de inquietud y adrenalina que me obliga a estar alerta.", opciones: ["Miedo", "Ansiedad", "Sorpresa"], correcta: "Miedo", dificultad: 2 },
  { descripcion: "Las risas y juegos me desconectan de mis preocupaciones, como una medicina del alma.", opciones: ["Diversión", "Alegría", "Calma"], correcta: "Diversión", dificultad: 3 },
  { descripcion: "Mi respiración se entrecorta, mis pensamientos se aceleran, y todo parece una amenaza invisible.", opciones: ["Ansiedad", "Miedo", "Frustración"], correcta: "Ansiedad", dificultad: 3 },
  { descripcion: "Estoy rodeado de incertidumbre, pero hay una parte de mí que sigue creyendo en algo mejor.", opciones: ["Esperanza", "Calma", "Tristeza"], correcta: "Esperanza", dificultad: 3 },
  { descripcion: "Las emociones se arremolinan en mi pecho, pero trato de encontrar equilibrio y respirar.", opciones: ["Calma", "Ansiedad", "Enojo"], correcta: "Calma", dificultad: 3 },
  { descripcion: "Siento que cada pequeño logro refuerza mi convicción interna de que puedo lograr grandes cosas.", opciones: ["Confianza", "Alegría", "Frustración"], correcta: "Confianza", dificultad: 3 },
  { descripcion: "Siento que todo se derrumba, pero aún con lágrimas reconozco que debo continuar avanzando.", opciones: ["Frustración", "Esperanza", "Tristeza"], correcta: "Frustración", dificultad: 3 },
  { descripcion: "Me siento tan profundamente bien, que ni el ruido ni el caos me alteran.", opciones: ["Calma", "Alegría", "Indiferencia"], correcta: "Calma", dificultad: 3 },
  { descripcion: "Algo inesperado ha cambiado mi rumbo, obligándome a repensar mis pasos.", opciones: ["Sorpresa", "Ansiedad", "Enojo"], correcta: "Sorpresa", dificultad: 3 },
  { descripcion: "Siento que cada instante es valioso, que estoy en el lugar correcto y en el momento preciso.", opciones: ["Alegría", "Calma", "Amor"], correcta: "Alegría", dificultad: 3 },
  { descripcion: "Me entrego al juego, a la risa y al gozo de compartir sin preocupación.", opciones: ["Diversión", "Amor", "Esperanza"], correcta: "Diversión", dificultad: 3 }
];


  let preguntaActual = 0;

  function mostrarPregunta2() {
    const datos = preguntasJuego2[preguntaActual];
    document.getElementById('descripcion').textContent = datos.descripcion;
    const opcionesElem = document.getElementById('opciones2');
    const resultadoElem = document.getElementById('resultado2');
    const graficaElem = document.getElementById('graficaDificultad');
    opcionesElem.innerHTML = "";
    resultadoElem.textContent = "";

    datos.opciones.forEach(opcion => {
      const btn = document.createElement('div');
      btn.className = 'opcion ' + opcion;
      btn.textContent = opcion;
      btn.onclick = () => verificarRespuesta(opcion);
      opcionesElem.appendChild(btn);
    });

    graficaElem.textContent = datos.dificultad === 1 ? "Nivel: Fácil ⭐" :
                              datos.dificultad === 2 ? "Nivel: Medio ⭐⭐" :
                              "Nivel: Difícil ⭐⭐⭐";
  }

  function verificarRespuesta(respuesta) {
    const resultadoElem = document.getElementById('resultado2');
    const correcta = preguntasJuego2[preguntaActual].correcta;

    if (respuesta === correcta) {
      resultadoElem.textContent = "¡Correcto! 🎉";
      preguntaActual++;
      if (preguntaActual >= preguntasJuego2.length) {
        setTimeout(() => {
          resultadoElem.textContent = "¡Has terminado el juego! 🎊 Gracias por participar.";
          preguntaActual = 0;
          mostrarPregunta2();
        }, 1500);
      } else {
        setTimeout(() => {
          mostrarPregunta2();
        }, 1000);
      }
    } else {
      resultadoElem.textContent = "Inténtalo de nuevo. ❌";
    }
  }

  // Funcionalidad de botones que abren y cierran secciones
  let seccionAbierta = null;

  function mostrar(id) {
    const seccion = document.getElementById(id);

    if (seccionAbierta === id) {
      seccion.style.display = 'none';
      seccionAbierta = null;
    } else {
      const secciones = ['juego1', 'juego2', 'ruleta', 'guion', 'cuento', 'emocionario'];
      secciones.forEach(sec => {
        const el = document.getElementById(sec);
        if (el) el.style.display = 'none';
      });

      seccion.style.display = 'block';
      seccionAbierta = id;
    }
  }

  // Iniciar juegos
  mostrarPregunta1();
  mostrarPregunta2();
  
  let nivelEmocion = 50; // Valor inicial

  function actualizarTermometro() {
    const emoji = document.getElementById("emoji");
    const valor = document.getElementById("valorEmocion");

    // Asegura que esté entre 0 y 100
    nivelEmocion = Math.max(0, Math.min(100, nivelEmocion));
    valor.textContent = nivelEmocion;

    if (nivelEmocion >= 80) {
      emoji.textContent = "😄";
    } else if (nivelEmocion >= 60) {
      emoji.textContent = "🙂";
    } else if (nivelEmocion >= 40) {
      emoji.textContent = "😐";
    } else if (nivelEmocion >= 20) {
      emoji.textContent = "😔";
    } else {
      emoji.textContent = "😢";
    }
  }

  // Debes llamar a esta función desde verificarRespuesta
  function verificarRespuesta(respuesta) {
    const correcta = preguntasJuego2[preguntaActual].correcta;
    const resultado = document.getElementById("resultado2");

    if (respuesta === correcta) {
      resultado.textContent = "¡Correcto! 🎉";
      nivelEmocion += 1;
      preguntaActual++;
    } else {
      resultado.textContent = "Inténtalo de nuevo. ❌";
      nivelEmocion -= 1;
    }

    actualizarTermometro();

    if (preguntaActual < preguntasJuego2.length) {
      setTimeout(() => mostrarPregunta2(), 1000);
    } else {
      resultado.textContent = "¡Juego terminado! 🎊";
      preguntaActual = 0;
    }
  }

  // Llamar esta función al cargar
  window.onload = () => {
    mostrarPregunta2();
    actualizarTermometro();
  };
  
</script>


  <meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ruleta de las Emociones y Juego Teatral</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap');

  body {
    margin: 0;
    background: #000;
    font-family: 'Poppins', sans-serif;
    color: #fff;
    text-align: center;
    padding: 40px 20px;
    user-select: none;
  }

  h1 {
    font-size: 1.5rem;
    margin-bottom: 30px;
    color: #fff3e0;
    text-shadow: 2px 2px 6px #d35400;
    letter-spacing: 2px;
  }

  .ruleta-container {
    position: relative;
    width: 320px;
    height: 320px;
    margin: 0 auto;
    border-radius: 50%;
    box-shadow: 0 0 25px rgba(255, 130, 0, 0.7);
    overflow: hidden;
    cursor: pointer;
  }

  .ruleta-container:hover {
    box-shadow: 0 0 40px rgba(255, 140, 0, 0.9);
  }

  .ruleta-giratoria {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(
      #ff6f00 0deg 30deg,
      #ff8f00 30deg 60deg,
      #ffa000 60deg 90deg,
      #ffb300 90deg 120deg,
      #ffc107 120deg 150deg,
      #ffca28 150deg 180deg,
      #ffd54f 180deg 210deg,
      #ffea00 210deg 240deg,
      #ffc107 240deg 270deg,
      #ff8f00 270deg 300deg,
      #ff6f00 300deg 330deg,
      #e65100 330deg 360deg
    );
    transition: transform 2.8s ease-out, background 0.5s ease;
    z-index: 1;
  }

  .flecha {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 25px solid transparent;
    border-right: 25px solid transparent;
    border-bottom: 40px solid #ff6f00;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
    z-index: 10;
  }

  .centro-emoji {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3.5rem;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
    pointer-events: none;
    user-select: none;
    z-index: 2;
    transition: color 2s ease;
  }

  .boton-girar {
    margin-top: 35px;
    background: #ff6f00;
    border: none;
    padding: 15px 45px;
    border-radius: 30px;
    color: #fff;
    font-size: 1.5rem;
    font-weight: 600;
    box-shadow: 0 5px 15px rgba(255,111,0,0.6);
    cursor: pointer;
    transition: background 0.3s ease, box-shadow 0.3s ease;
    user-select: none;
  }

  .boton-girar:hover {
    background: #ff9100;
    box-shadow: 0 8px 20px rgba(255,145,0,0.8);
  }

  .boton-girar:active {
    transform: scale(0.95);
    box-shadow: 0 4px 10px rgba(255,111,0,0.5);
  }
</style>
</head>
<body>
  
  <section id="ruleta" style="display: none;">
  <h2>🎡 Ruleta de las Emociones y Expresión Corporal 🎭</h2>

  <div class="ruleta-container">
    <div class="flecha"></div>
    <div class="ruleta-giratoria" id="ruleta-giratoria"></div>
    <div class="centro-emoji" id="emoji-centro">🎭</div>
  </div>

  <button class="boton-girar" id="btn-girar">Girar la Ruleta</button>
</section>

<script>
const emociones = [
  { nombre: "Alegría", emoji: "😊", color: "#FFD700" },
  { nombre: "Tristeza", emoji: "😢", color: "#2F5D9F" },
  { nombre: "Enojo", emoji: "😡", color: "#FF1A1A" },
  { nombre: "Ansiedad", emoji: "😰", color: "#888888" },
  { nombre: "Miedo", emoji: "😱", color: "#222222" },
  { nombre: "Calma", emoji: "😌", color: "#66FF99" },
  { nombre: "Confusión", emoji: "😕", color: "#A020F0" },
  { nombre: "Amor", emoji: "😍", color: "#FFB6C1" },
  { nombre: "Frustración", emoji: "😤", color: "#FF7518" },
  { nombre: "Esperanza", emoji: "🌱", color: "#32CD32" },
  { nombre: "Orgullo", emoji: "🦁", color: "#87CEFA" },
  { nombre: "Entusiasmo", emoji: "🎉", color: "#FF69B4" }
];

const ruleta = document.getElementById('ruleta-giratoria');
const btnGirar = document.getElementById('btn-girar');
const emojiCentro = document.getElementById('emoji-centro');

let girando = false;
let rotacionActual = 0;

btnGirar.addEventListener('click', () => {
  if (girando) return;
  girando = true;

  const vueltas = Math.floor(Math.random() * 3) + 6;
  const gradosPorSegmento = 360 / emociones.length;
  const anguloExtra = Math.floor(Math.random() * 360);
  const anguloFinal = 360 * vueltas + anguloExtra;

  rotacionActual += anguloFinal;

  ruleta.style.transform = `rotate(${rotacionActual}deg)`;

  // Animación de emojis aleatorios durante el giro
  const animacionDinamica = setInterval(() => {
    const randomIndex = Math.floor(Math.random() * emociones.length);
    const emocionRandom = emociones[randomIndex];
    emojiCentro.textContent = emocionRandom.emoji;
    emojiCentro.style.color = emocionRandom.color;
  }, 90);

  setTimeout(() => {
    clearInterval(animacionDinamica);

    const anguloReal = (rotacionActual % 360 + 360) % 360;
    const anguloCorregido = (360 - anguloReal + gradosPorSegmento / 2) % 360;
    const indiceEmocion = Math.floor(anguloCorregido / gradosPorSegmento);
    const emocionElegida = emociones[indiceEmocion];

    emojiCentro.textContent = emocionElegida.emoji;
    emojiCentro.style.color = emocionElegida.color;

    // CAMBIAR el fondo de la ruleta al color de la emoción
    ruleta.style.background = emocionElegida.color;

    girando = false;
  }, 2900);
});
</script>



<section id="guion" style="display: none;">
  <style>
    #guion {
      background-color: #000;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
    }
    #guion h1, #guion h2 {
      color: #eee;
    }
    #guion label {
      display: block;
      margin-top: 12px;
    }
    #guion input[type=text],
    #guion input[type=number],
    #guion textarea,
    #guion select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border-radius: 5px;
      border: none;
      font-size: 16px;
      background-color: #222;
      color: #eee;
    }
    #guion textarea {
      resize: vertical;
    }
    #guion button {
      margin-top: 20px;
      background-color: #00cc66;
      color: black;
      border: none;
      padding: 12px 20px;
      font-size: 12px;
      cursor: pointer;
      border-radius: 8px;
    }
    #guion button:hover {
      background-color: #009944;
    }
    .personaje-block {
      background-color: #111;
      margin-top: 15px;
      padding: 15px;
      border-radius: 10px;
    }
    .personaje-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .flex-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .flex-column {
      flex: 1;
      min-width: 120px;
    }
    #previewImgs img, #guionImgs img {
      max-width: 120px;
      max-height: 120px;
      margin: 10px;
      border-radius: 10px;
      border: 2px solid #00cc66;
    }
    #guionOutput {
      background:#111;
      padding:20px;
      border-radius:10px;
      margin-top: 20px;
      white-space: pre-wrap;
    }
    
    
  </style>

  <h2>Escribe tu propio guion y actua</h2>
  <form id="guionForm">
    
    <label for="autor">Autor (es):</label>
    <input type="text" id="autor" placeholder="Tu nombre" required />

    <label for="titulo">Título del Guion:</label>
    <input type="text" id="titulo" placeholder="Nombre de la obra" required />

    <label for="numActos">Número de actos:</label>
    <input type="number" id="numActos" min="1" max="10" value="1" required />

    <label for="numEscenas">Número de escenas por acto:</label>
    <input type="number" id="numEscenas" min="1" max="20" value="1" required />

    <label for="materiales">Materiales necesarios para la escena:</label>
    <textarea id="materiales" rows="2" placeholder="Describe materiales..."></textarea>

    <label for="imagenes">Sube hasta 5 imágenes de materiales reciclados:</label>
    <input type="file" id="imagenes" accept="image/*" multiple />

    <div id="previewImgs"></div>

    <label for="acotaciones">Acotaciones / Paréntesis:</label>
    <textarea id="acotaciones" rows="2" placeholder="Ejemplo: (nervioso, susurrando)"></textarea>

    <h2>Personajes</h2>
    <div id="personajesContainer">
      <div class="personaje-block">
        <div class="personaje-header">
          <label>Nombre del personaje:</label>
          <button type="button" onclick="eliminarPersonaje(this)">Eliminar</button>
        </div>
        <input type="text" class="nombrePersonaje" required />
        <div class="flex-row">
          <div class="flex-column">
            <label>Emoción:</label>
            <select class="emojiPersonaje" required>
              <option value="">Selecciona emoción</option>
              <option value="😀">Feliz 😀</option>
              <option value="😢">Triste 😢</option>
              <option value="😠">Enojado 😠</option>
              <option value="😨">Asustado 😨</option>
              <option value="😮">Sorprendido 😮</option>
              <option value="😐">Neutral 😐</option>
              <option value="🤔">Pensativo 🤔</option>
              <option value="😌">Calmado 😌</option>
            </select>
          </div>
          <div class="flex-column">
            <label>Color:</label>
            <input type="color" class="colorPersonaje" value="#00cc66" />
          </div>
        </div>
        <label>Descripción de la escena y diálogo:</label>
        <textarea class="dialogoPersonaje" rows="3" required></textarea>
      </div>
    </div>

    <button type="button" onclick="agregarPersonaje()">+ Agregar personaje</button>
    <button type="button" onclick="generarGuion()">🎭 Generar Guion</button>
   
    <button type="button" onclick="imprimirGuion()">🖨️ Imprimir</button>
    <button type="button" onclick="descargarGuionPDF()">📑 PDF</button>
  </form>

  <h2>Guion generado:</h2>
  <pre id="guionOutput"></pre>
  <div id="guionImgs" style="display: flex; flex-wrap: wrap;"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    let imagenesBase64 = [];

    document.getElementById('imagenes').addEventListener('change', function(e) {
      const files = Array.from(e.target.files).slice(0, 5);
      imagenesBase64 = [];
      const preview = document.getElementById('previewImgs');
      preview.innerHTML = '';
      files.forEach(file => {
        const reader = new FileReader();
        reader.onload = function(ev) {
          imagenesBase64.push(ev.target.result);
          const img = document.createElement('img');
          img.src = ev.target.result;
          preview.appendChild(img);
        };
        reader.readAsDataURL(file);
      });
    });

    function agregarPersonaje() {
      const container = document.getElementById('personajesContainer');
      const div = document.createElement('div');
      div.className = 'personaje-block';
      div.innerHTML = `
        <div class="personaje-header">
          <label>Nombre del personaje:</label>
          <button type="button" onclick="eliminarPersonaje(this)">Eliminar</button>
        </div>
        <input type="text" class="nombrePersonaje" required />
        <div class="flex-row">
          <div class="flex-column">
            <label>Emoción:</label>
            <select class="emojiPersonaje" required>
              <option value="">Selecciona emoción</option>
              <option value="😀">Feliz 😀</option>
              <option value="😢">Triste 😢</option>
              <option value="😠">Enojado 😠</option>
              <option value="😨">Asustado 😨</option>
              <option value="😮">Sorprendido 😮</option>
              <option value="😐">Neutral 😐</option>
              <option value="🤔">Pensativo 🤔</option>
              <option value="😌">Calmado 😌</option>
            </select>
          </div>
          <div class="flex-column">
            <label>Color:</label>
            <input type="color" class="colorPersonaje" value="#00cc66" />
          </div>
        </div>
        <label>Descripción de la escena y diálogo:</label>
        <textarea class="dialogoPersonaje" rows="3" required></textarea>
      `;
      container.appendChild(div);
    }

    function eliminarPersonaje(btn) {
      btn.closest('.personaje-block').remove();
    }

    function generarGuion() {
      const autor = document.getElementById('autor').value;
      const titulo = document.getElementById('titulo').value;
      const actos = +document.getElementById('numActos').value;
      const escenas = +document.getElementById('numEscenas').value;
      const materiales = document.getElementById('materiales').value;
      const acotaciones = document.getElementById('acotaciones').value;

      const nombres = document.querySelectorAll('.nombrePersonaje');
      const emociones = document.querySelectorAll('.emojiPersonaje');
      const colores = document.querySelectorAll('.colorPersonaje');
      const dialogos = document.querySelectorAll('.dialogoPersonaje');

      let texto = `Autor: ${autor}\nTítulo: ${titulo}\nNúmero de actos: ${actos}\nNúmero de escenas por acto: ${escenas}\n\nMateriales: ${materiales}\n\nAcotaciones: ${acotaciones}\n\n`;

      for (let a = 1; a <= actos; a++) {
        texto += `--- Acto ${a} ---\n`;
        for (let e = 1; e <= escenas; e++) {
          texto += `  Escena ${e}:\n`;
          for (let i = 0; i < nombres.length; i++) {
            texto += `    [${nombres[i].value} ${emociones[i].value} - ${colores[i].value}]: ${dialogos[i].value}\n`;
          }
          texto += `\n`;
        }
      }

      document.getElementById('guionOutput').textContent = texto;

      const imgContainer = document.getElementById('guionImgs');
      imgContainer.innerHTML = '';
      imagenesBase64.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        imgContainer.appendChild(img);
      });
    }

    function compartirWhatsApp() {
      const texto = encodeURIComponent(document.getElementById('guionOutput').textContent);
      window.open(`https://wa.me/?text=${texto}`, '_blank');
    }

    function imprimirGuion() {
      const texto = document.getElementById('guionOutput').textContent;
      const win = window.open('', '', 'width=900,height=700');
      win.document.write(`<pre>${texto}</pre>`);
      imagenesBase64.forEach(img => {
        win.document.write(`<img src="${img}" style="max-width:300px;margin:10px;" />`);
      });
      win.document.close();
      win.print();
    }

    async function descargarGuionPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const texto = document.getElementById('guionOutput').textContent.split('\n');
      let y = 10;
      for (let i = 0; i < texto.length; i++) {
        doc.text(texto[i], 10, y);
        y += 7;
        if (y > 270) {
          doc.addPage();
          y = 10;
        }
      }
      for (const b64 of imagenesBase64) {
        if (y > 200) {
          doc.addPage();
          y = 10;
        }
        doc.addImage(b64, 'PNG', 10, y, 60, 60);
        y += 65;
      }
      doc.save('Guion.pdf');
    }
  </script>
</section>

<section id="cuento" style="display:none;">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emoji Cuento</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      margin: 0;
      padding: 20px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      font-size: 1.1em;
      border-radius: 5px;
      border: none;
      margin-top: 5px;
      box-sizing: border-box;
    }

    textarea {
      height: 120px;
    }

    button {
      background-color: #ffcc00;
      border: none;
      color: #000;
      padding: 10px 15px;
      margin: 10px 0;
      cursor: pointer;
      font-weight: bold;
      border-radius: 8px;
      font-size: 1em;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #e6b800;
    }

    .emoji-section {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    .emoji-box {
      font-size: 2.2em;
      border: 2px dashed #ffcc00;
      padding: 8px 12px;
      border-radius: 12px;
      background-color: #111;
      min-width: 60px;
      text-align: center;
    }

    #preview {
      background: #fff;
      color: #000;
      padding: 20px;
      margin-top: 20px;
      border-radius: 10px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    #preview img {
      display: block;
      max-width: 150px;
      margin: 0 auto 10px auto;
      border-radius: 8px;
    }

    #previewTitle, #previewAuthor, #previewEmoji {
      text-align: center;
    }
  </style>

  <h2>EmojiCuento: ¡Juega, Dibuja y Escribe!</h2>

  <label for="title">Título del cuento:</label>
  <input type="text" id="title" placeholder="Escribe el título aquí" />

  <label for="author">Autor:</label>
  <input type="text" id="author" placeholder="Tu nombre" />

  <label for="imageInput">¡Dibuja tu imagen favorita para el cuento y súbela aquí!</label>
  <input type="file" id="imageInput" accept="image/*" />
  <img id="previewUploadImage" src="" style="display:none; max-width: 150px; margin: 10px 0; border-radius: 8px;" />

  <!-- INICIO -->
  <label for="startStory">Inicio</label>
  <div class="emoji-section">
    <button id="emojiStartBtn">Emoji para escribir el inicio (clic aquí)</button>
    <div id="emojiStart" class="emoji-box">✨</div>
  </div>
  <textarea id="startStory" placeholder="Escribe el inicio del cuento la primera parte de la historia donde se introducen los personajes, el lugar y el tiempo en que ocurre la acción"></textarea>

  <!-- NUDO -->
  <label for="middleStory">Nudo </label>
  <div class="emoji-section">
    <button id="emojiMiddleBtn">Emoji del nudo (clic aquí)</button>
    <div id="emojiMiddle" class="emoji-box">⚔️</div>
  </div>
  <textarea id="middleStory" placeholder="Escribe el nudo del cuento (parte central de la historia donde se presenta el conflicto o problema principal que los personajes deben resolver)"></textarea>

  <!-- FINAL -->
  <label for="endStory">Desenlace (final):</label>
  <div class="emoji-section">
    <button id="emojiEndBtn">Emoji del final </button>
    <div id="emojiEnd" class="emoji-box">🏆</div>
  </div>
  <textarea id="endStory" placeholder="Escribe el desenlace del cuento donde se resuelven los conflictos y se da un cierre a la historia"></textarea>

  <button id="generateStory">Generar Cuento</button>
  <button id="printStory">Imprimir</button>

  <div id="preview" style="display:none;">
    <div id="previewEmoji"></div>
    <h2 id="previewTitle"></h2>
    <h4 id="previewAuthor"></h4>
    <img id="previewImage" src="" alt="Imagen del cuento" />
    <p id="previewStory"></p>
  </div>

  <script>
    const emojis = [...'⚡️🌈🐉🦄🚀👑🌟🐱🐶🌻🍎🎈🏰👻🧙‍♂️🦸‍♀️🤖🍀🎉🍕🎵💎🔥🌙☀️🌊🐬🐢🦋🍓🌺🍩🎃📚✈️⏰🕊️🍉🥑🎁🍄🚴‍♂️🛸📸🎬🧩🌹🌵🍰🦁'];

    function animarEmoji(id) {
      let count = 0;
      const target = document.getElementById(id);
      const interval = setInterval(() => {
        target.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        count++;
        if (count > 20) clearInterval(interval);
      }, 100);
    }

    document.getElementById('emojiStartBtn').onclick = () => animarEmoji('emojiStart');
    document.getElementById('emojiMiddleBtn').onclick = () => animarEmoji('emojiMiddle');
    document.getElementById('emojiEndBtn').onclick = () => animarEmoji('emojiEnd');

    let selectedImageDataUrl = '';

    document.getElementById('imageInput').addEventListener('change', function () {
      const file = this.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function (e) {
        selectedImageDataUrl = e.target.result;
        document.getElementById('previewImage').src = selectedImageDataUrl;
        document.getElementById('previewUploadImage').src = selectedImageDataUrl;
        document.getElementById('previewUploadImage').style.display = 'block';
      };
      reader.readAsDataURL(file);
    });

    document.getElementById('generateStory').addEventListener('click', () => {
      const title = document.getElementById('title').value.trim();
      const author = document.getElementById('author').value.trim();
      const start = document.getElementById('startStory').value.trim();
      const middle = document.getElementById('middleStory').value.trim();
      const end = document.getElementById('endStory').value.trim();
      const emojiStart = document.getElementById('emojiStart').textContent;
      const emojiMiddle = document.getElementById('emojiMiddle').textContent;
      const emojiEnd = document.getElementById('emojiEnd').textContent;

      if (!title || !author || !start || !middle || !end) {
        alert('Por favor completa todas las partes del cuento antes de generar.');
        return;
      }

      document.getElementById('previewEmoji').innerHTML = `
        <div><strong>Inicio:</strong> ${emojiStart}</div>
        <div><strong>Nudo:</strong> ${emojiMiddle}</div>
        <div><strong>Final:</strong> ${emojiEnd}</div>
      `;
      document.getElementById('previewTitle').textContent = title;
      document.getElementById('previewAuthor').textContent = "Por: " + author;
      document.getElementById('previewStory').innerHTML = `<strong>Inicio:</strong> ${start}<br><br><strong>Nudo:</strong> ${middle}<br><br><strong>Desenlace:</strong> ${end}`;

      if (selectedImageDataUrl) {
        document.getElementById('previewImage').style.display = 'block';
      } else {
        document.getElementById('previewImage').style.display = 'none';
      }

      document.getElementById('preview').style.display = 'block';
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });

    document.getElementById('printStory').addEventListener('click', () => {
      const preview = document.getElementById('preview');
      if (preview.style.display === 'none') {
        alert('Primero genera el cuento para imprimirlo.');
        return;
      }

      const printWindow = window.open('', '_blank');
      const htmlContent = `
        <html>
          <head>
            <title>Imprimir Cuento</title>
            <style>
              body { font-family: 'Comic Sans MS', cursive, sans-serif; color: #000; padding: 20px; }
              img { max-width: 150px; display: block; margin: 0 auto 10px auto; }
              h2, h4, div { text-align: center; }
              p { font-size: 16px; line-height: 1.6; }
            </style>
          </head>
          <body>
            ${preview.innerHTML}
            <script>window.onload = function() { window.print(); }<\/script>
          </body>
        </html>
      `;
      printWindow.document.open();
      printWindow.document.write(htmlContent);
      printWindow.document.close();
    });
  </script>
</section>

  
  
<section id="juegoPoema" style="display: none; padding: 20px; color: #fff;">
  <h2 style="text-align: center; color: #ffffff;">Crea Tu Emoji Poema </h2>
  
   <!-- Emoji aleatorio -->
<div style="text-align: center; margin: 20px 0;">
  <button onclick="generarEmoji()">Elegir Emoji</button>
  <div id="emojiResultado" style="font-size: 4em; margin-top: 10px;"></div>

  <div style="margin-bottom: 15px;">
    <label for="tituloPoema"><strong>Título:</strong></label><br>
    <input type="text" id="tituloPoema" placeholder="Título del poema" style="width: 100%; padding: 8px; border-radius: 8px; margin-top: 5px;">
  </div>

  <div style="margin-bottom: 15px;">
    <label for="autorPoema"><strong>Autor:</strong></label><br>
    <input type="text" id="autorPoema" placeholder="Tu nombre o seudónimo" style="width: 100%; padding: 8px; border-radius: 8px; margin-top: 5px;">
  </div>


  <!-- Estrofas -->
  <div id="estrofas">
    <h3>Estrofa 1</h3>
    <textarea placeholder="Verso 1" class="verso"></textarea>
    <textarea placeholder="Verso 2" class="verso"></textarea>
    <textarea placeholder="Verso 3" class="verso"></textarea>
    <textarea placeholder="Verso 4" class="verso"></textarea>

    <h3>Estrofa 2</h3>
    <textarea placeholder="Verso 1" class="verso"></textarea>
    <textarea placeholder="Verso 2" class="verso"></textarea>
    <textarea placeholder="Verso 3" class="verso"></textarea>
    <textarea placeholder="Verso 4" class="verso"></textarea>

    <h3>Estrofa 3</h3>
    <textarea placeholder="Verso 1" class="verso"></textarea>
    <textarea placeholder="Verso 2" class="verso"></textarea>
    <textarea placeholder="Verso 3" class="verso"></textarea>
    <textarea placeholder="Verso 4" class="verso"></textarea>
  </div>

  <!-- Ayudador de rimas -->
  <div style="margin-top: 20px;">
    <h3>🔍 Buscar palabras que rimen</h3>
    <input type="text" id="palabraRima" placeholder="Escribe una palabra" style="padding: 8px; border-radius: 6px; width: 60%;">
    <button onclick="buscarRimas()">Buscar Rimas</button>
    <p id="resultadoRima" style="margin-top: 10px; font-style: italic;"></p>
  </div>

  <!-- Botones de acción -->
<div style="text-align: center; margin-top: 30px;">
  <button onclick="verPoema()">📜 Ver Poema</button>
  <button onclick="printPoema()">🖨️ Imprimir</button>
</div>

<!-- Resultado -->
<div id="poemaResultado" style="margin-top: 30px; background: #111; padding: 20px; border-radius: 12px; display: none;"></div>
</section>

<style>
  #juegoPoema textarea.verso {
    display: block;
    width: 100%;
    height: 2em;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 6px;
    font-family: 'Poppins', sans-serif;
    font-size: 1em;
    background: #222;
    color: #fff;
    border: 1px solid #555;
  }
  
  
</style>

<!-- LIBRERÍA PARA PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
  window.onload = function () {
    const emojis = ["🌟", "🔥", "❄️", "💧", "🌈", "🌻", "🌙", "🎵", "🦋", "🧠", "❤️", "💫"];

    function generarEmoji() {
      const emojiElemento = document.getElementById("emojiResultado");
      if (!emojiElemento) {
        alert("No se encontró el contenedor del emoji 😢");
        return;
      }

      let vueltas = 0;
      const intervalo = setInterval(() => {
        const aleatorio = emojis[Math.floor(Math.random() * emojis.length)];
        emojiElemento.textContent = aleatorio;
        vueltas++;
        if (vueltas > 20) clearInterval(intervalo);
      }, 100);
    }

    window.generarEmoji = generarEmoji;

    window.verPoema = function () {
      const titulo = document.getElementById("tituloPoema").value;
      const autor = document.getElementById("autorPoema").value;
      const versos = document.querySelectorAll("#estrofas .verso");
      const emoji = document.getElementById("emojiResultado").textContent;

      let html = `<h2>${titulo} ${emoji}</h2><p><em>Por ${autor}</em></p>`;
      for (let i = 0; i < versos.length; i += 4) {
        html += "<p>";
        for (let j = 0; j < 4; j++) {
          const verso = versos[i + j].value;
          if (verso.trim()) {
            html += `${verso}<br>`;
          }
        }
        html += "</p>";
      }

      const resultado = document.getElementById("poemaResultado");
      resultado.innerHTML = html;
      resultado.style.display = "block";
    };

    window.buscarRimas = function () {
      const palabra = document.getElementById("palabraRima").value.trim();
      if (!palabra) return;

     const posiblesRimas = [
  "amor", "valor", "calor", "dolor", "sabor", "honor", "temor",
  "animal", "cristal", "corral", "final", "señal", "canal",
  "canción", "pasión", "razón", "corazón", "emoción", "función",
  "andar", "luchar", "cantar", "mirar", "jugar", "bailar",
  "papel", "nivel", "hotel", "anhelo",
  "fácil", "difícil", "útil", "frágil",
  "vez", "niñez", "validez", "lucidez", "altivez",
  "jardín", "berlín", "festín",
  "poder", "mujer", "correr", "leer", "beber",
  "vivir", "decidir", "subir", "escribir", "sentir",
  "amistad", "bondad", "verdad", "lealtad",
  "juventud", "actitud", "gratitud", "virtud",
  "beber", "leer", "andar", "razón", "pasión",
  "función", "nivel", "papel", "mujer", "jardín",
  "bailar", "andar", "andar", "andar", "andar",
  "subir", "vivir", "poder", "sentir", "decidir",
  "temor", "dolor", "valor", "calor", "sabor",
  "cantar", "mirar", "luchar", "jugar", "final",
  "animal", "cristal", "canal", "corral",  "navidad", "soledad", "seguridad", "claridad", "oscuridad",
  "universidad", "felicidad", "realidad", "necesidad", "capacidad",
  "amistades", "lealtades", "voluntad", "autoridad", "ciudad",
  "libertad", "actividad", "curiosidad", "tranquilidad", "electricidad",
  "igualdad", "comunidad", "habilidad", "fragilidad", "intensidad",
  "sensualidad", "eternidad", "modalidad", "originalidad", "popularidad",
  "humanidad", "divinidad", "nacionalidad", "localidad", "temporalidad",
  "personalidad", "civilidad", "movilidad", "hostilidad", "neutralidad",
  "electricidad", "visibilidad", "sencillez", "altivez", "rigidez",
  "madurez", "ligereza", "belleza", "tristeza", "naturaleza", "aula", "rosa", "casa", "vida", "risa",
"magia", "lluvia", "calma", "fuerza", "brisa",
"montaña", "luzca", "esperanza", "niña", "poesía",
"alma", "cultura", "energía", "naturaleza", "espera", "nube", "arte", "verde", "cante", "gente",
"noche", "leche", "puente", "mente", "fuente",
"saludable", "alegre", "valiente", "presente", "inteligente",
"triste", "corte", "frente", "suerte", "fuerte", "aquí", "así", "para ti", "sí", "allí",
"frenesí", "país", "bambú", "ají", "jardí",
"colibrí", "desistí", "viví", "percibí", "recibí",
"decidí", "sonreí", "intuí", "sentí", "subí", "cielo", "verso", "abrazo", "tesoro", "rayo",
"camino", "cuento", "pensamiento", "reto", "lento",
"viento", "canto", "hermano", "horizonte", "universo",
"deseo", "grito", "sueño", "silencio", "versículo", "tatu", "bambú", "menú", "tribú", "igú",
"baúl", "gurú", "mamut", "ñandú", "coñacú",
"atrapu", "kulu", "hamu", "inú", "tupacú",
"tutú", "tabú", "kanú", "corruptú", "mapu", "puma", "león",  "águila", "abeja", "alce", "antílope", "araña",
  "ardilla", "armadillo", "avestruz", "ballena", "búfalo",
  "burro", "caballo", "cabra", "camaleón", "cangrejo",
  "canguro", "caracol", "castor", "cebra", "chimpancé",
  "cisne", "cocodrilo", "colibrí", "conejo", "cuervo",
  "delfín", "dragón de komodo", "elefante", "erizo", "escorpión",
  "faisán", "flamenco", "foca", "galápago", "gallo",
  "gamba", "gato", "gaviota", "gavilán", "gecko",
  "gorila", "grillo", "halcón", "hiena", "hipopótamo",
  "hurón", "iguana", "jabirú", "jabalí", "jirafa",
  "koala", "lagarto", "langosta", "lechuza", "león",
  "lemur", "liebre", "lince", "lobo", "loro",
  "macaco", "mamut", "mariposa", "medusa", "meerkat",
  "mofeta", "mono", "mosca", "murciélago", "nutria",
  "ocelote", "orangután", "orca", "ornitorrinco", "oso",
  "ostión", "ostra", "oveja", "panda", "pantera",
  "pájaro", "pato", "pavo", "pelícano", "perico",
  "perro", "pez", "pingüino", "pulga", "pulpo",
  "quetzal", "rana", "ratón", "reno", "rinoceronte",
  "salamandra", "sapo", "serpiente", "tigre", "topo",
  "tortuga", "tucán", "urraca", "vaca", "zorro", "aburrimiento", "admiración", "aflicción", "agradecimiento", "agitación",
  "alivio", "ambivalencia", "angustia", "ansia", "apatía",
  "aprecio", "arrepentimiento", "asco", "asombro", "autocompasión",
  "autorrealización", "benevolencia", "bienestar", "bloqueo", "bochorno",
  "celos", "compasión", "complacencia", "compromiso", "confusión",
  "consternación", "contento", "culpa", "curiosidad", "decepción",
  "deleite", "dependencia", "desaliento", "desasosiego", "desazón",
  "desconfianza", "desesperanza", "desilusión", "desinterés", "desmotivación",
  "desolación", "deseo", "desprecio", "dignidad", "duda",
  "euforia", "éxtasis", "extrañeza", "exuberancia", "fastidio",
  "felicidad", "fervor", "fidelidad", "firmeza", "fluidez",
  "fobia", "fortaleza", "fracaso", "frialdad", "gozo",
  "gratitud", "hastío", "honestidad", "humildad", "impaciencia",
  "impotencia", "incomodidad", "incomprensión", "indecisión", "indignación",
  "indiferencia", "injusticia", "inseguridad", "inspiración", "intimidad",
  "intranquilidad", "ira", "júbilo", "liviandad", "melancolía",
  "misericordia", "motivación", "nerviosismo", "nostalgia", "orgullo",
  "osadía", "pánico", "pena", "perplejidad", "placer",
  "preocupación", "rencor", "remordimiento", "reproche", "resignación",
  "respeto", "resquemor", "satisfacción", "serenidad", "shock",
  "soledad", "sorpresa", "sosiego", "templanza", "ternura",
  "tensión", "timidez", "tranquilidad", "vulnerabilidad", "zozobra",  "Ágata", "Ámbar", "Ametrina", "Amatista", "Amazonita",
  "Andalucita", "Apatita", "Aventurina", "Azurita", "Berilo",
  "Calcedonia", "Cianita", "Crisocola", "Crisoprasa", "Cuarzo",
  "Coral", "Cornalina", "Diamante", "Dumortierita", "Esmeralda",
  "Espinela", "Fluorita", "Granate", "Hematita", "Howlita",
  "Iolita", "Jade", "Jaspe", "Kunzita", "Labradorita",
  "Lapislazuli", "Larimar", "Magnetita", "Malaquita", "Marcasita",
  "Moldavita", "Moonstone", "Morganita", "Nefrita", "Obsidiana",
  "Peridoto", "Perla", "Pirita", "Prehnita", "Rodonita",
  "Rodocrosita", "Rubí", "Rutilo", "Selenita", "Serafinita",
  "Sodalita", "Sugilita", "Tanzanita", "Topacio", "Torbernite",
  "Turmalina", "Turquesa", "Unakita", "Zafiro", "Zircón",
  "Zoisita", "Calcita", "Espodumena", "Clinohumita", "Heliodoro",
  "Variscita", "Verdelita", "Sunstone", "Spinela", "Actinolita",
  "Charoíta", "Epidota", "Danburita", "Axinita", "Ulexita",
  "Thulita", "Axinita", "Olivino", "Anhidrita", "Jet",
  "Idocrasa", "Bixbita", "Almandino", "Cristalita", "Crocoíta",
  "Covellina", "Dioptasa", "Enstatita", "Flogopita", "Goshenita",
  "Hauynita", "Lazulita", "Melanita", "Petalita", "Tugtupita", "Argentina", "Brasil", "Canadá", "Chile", "China",
  "Colombia", "Cuba", "Ecuador", "Egipto", "España",
  "Francia", "Grecia", "Guatemala", "Honduras", "India",
  "Indonesia", "Irlanda", "Israel", "Italia", "Jamaica",
  "Japón", "Kenia", "Líbano", "Malasia", "Marruecos",
  "México", "Nigeria", "Noruega", "Panamá", "Paraguay",
  "Perú", "Polonia", "Portugal", "Qatar", "Rumania",
  "Rusia", "Senegal", "Singapur", "Somalia", "Suecia",
  "Suiza", "Surinam", "Tailandia", "Túnez", "Turquía",
  "Ucrania", "Uganda", "Uruguay", "Venezuela", "Vietnam",
  "Yemen", "Zambia", "Zimbabue", "Bélgica", "Alemania",
  "Corea", "Dinamarca", "Eslovaquia", "Eslovenia", "Finlandia",
  "Gambia", "Ghana", "Islandia", "Kazajistán", "Lesoto",
  "Letonia", "Liberia", "Lituania", "Malawi", "Malí",
  "Malta", "Moldavia", "Mónaco", "Mongolia", "Mozambique",
  "Nepal", "Nicaragua", "Omán", "Pakistán", "Ruanda",
  "Serbia", "Siria", "Togo", "Tonga", "Yibuti",
  "Brunéi", "Croacia", "Estonia", "Georgia", "Hungría",
  "Kirguistán", "Laos", "Liechtenstein", "Luxemburgo", "Mauricio"
];

      const resultado = posiblesRimas.filter(p =>
        p.endsWith(palabra.slice(-2)) || p.endsWith(palabra.slice(-3))
      );

      document.getElementById("resultadoRima").textContent = resultado.length > 0
        ? "Palabras que riman: " + resultado.join(", ")
        : "No se encontraron muchas coincidencias, intenta con otra palabra.";
    };

    // ✅ IMPRIMIR FUNCIONAL
    window.printPoema = function () {
      const contenido = document.getElementById("poemaResultado").innerHTML;
      if (!contenido.trim()) {
        alert("Primero genera tu poema antes de imprimirlo.");
        return;
      }

      const ventana = window.open('', '_blank');
      ventana.document.write(`
        <html>
          <head>
            <title>Imprimir Poema</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 30px; color: #000; }
              h2 { text-align: center; }
              p { font-size: 16px; }
            </style>
          </head>
          <body>${contenido}</body>
        </html>
      `);
      ventana.document.close();
      ventana.focus();
      ventana.print();
    };
  };
  
  function toggleGameSection() {
    const section = document.getElementById('animacon-emocion');
    section.style.display = (section.style.display === 'none' || section.style.display === '') ? 'block' : 'none';
    window.scrollTo({ top: section.offsetTop - 20, behavior: 'smooth' });
  }
</script>
  
  <script>
let canvas = document.getElementById("animCanvas");
let ctx = canvas.getContext("2d");

let currentTool = 'drawLine';
let isDrawing = false;
let startX, startY;
let objects = [];
let selectedObject = null;
let frames = [];

canvas.addEventListener("mousedown", (e) => {
  const x = e.offsetX;
  const y = e.offsetY;
  startX = x;
  startY = y;

  if (currentTool === 'select') {
    selectedObject = objects.find(obj => isInside(obj, x, y));
  } else {
    isDrawing = true;
  }
});

canvas.addEventListener("mouseup", (e) => {
  if (!isDrawing) return;
  isDrawing = false;
  const endX = e.offsetX;
  const endY = e.offsetY;

  switch (currentTool) {
    case 'drawLine':
      objects.push({ type: 'line', x1: startX, y1: startY, x2: endX, y2: endY, color: '#000' });
      break;
    case 'drawCircle':
      const radius = Math.hypot(endX - startX, endY - startY);
      objects.push({ type: 'circle', x: startX, y: startY, r: radius, color: '#000' });
      break;
    case 'erase':
      objects = objects.filter(obj => !isInside(obj, endX, endY));
      break;
    case 'paint':
      const obj = objects.find(o => isInside(o, endX, endY));
      if (obj) obj.color = getRandomColor();
      break;
  }
  redraw();
});

canvas.addEventListener("mousemove", (e) => {
  if (currentTool === 'select' && selectedObject && e.buttons === 1) {
    const dx = e.offsetX - startX;
    const dy = e.offsetY - startY;
    moveObject(selectedObject, dx, dy);
    startX = e.offsetX;
    startY = e.offsetY;
    redraw();
  }
});

function setTool(tool) {
  currentTool = tool;
}

function isInside(obj, x, y) {
  if (obj.type === 'line') {
    const dist = Math.abs((obj.y2 - obj.y1) * x - (obj.x2 - obj.x1) * y + obj.x2 * obj.y1 - obj.y2 * obj.x1) /
                 Math.hypot(obj.x2 - obj.x1, obj.y2 - obj.y1);
    return dist < 10;
  } else if (obj.type === 'circle') {
    const dx = x - obj.x;
    const dy = y - obj.y;
    return dx * dx + dy * dy <= obj.r * obj.r;
  }
  return false;
}

function moveObject(obj, dx, dy) {
  if (obj.type === 'line') {
    obj.x1 += dx; obj.y1 += dy;
    obj.x2 += dx; obj.y2 += dy;
  } else if (obj.type === 'circle') {
    obj.x += dx; obj.y += dy;
  }
}

function redraw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let obj of objects) {
    ctx.strokeStyle = obj.color || "#000";
    ctx.fillStyle = obj.color || "#000";
    if (obj.type === 'line') {
      ctx.beginPath();
      ctx.moveTo(obj.x1, obj.y1);
      ctx.lineTo(obj.x2, obj.y2);
      ctx.stroke();
    } else if (obj.type === 'circle') {
      ctx.beginPath();
      ctx.arc(obj.x, obj.y, obj.r, 0, Math.PI * 2);
      ctx.fill();
    }
  }
}

function getRandomColor() {
  return '#' + Math.floor(Math.random()*16777215).toString(16);
}

function clearCanvas() {
  objects = [];
  frames = [];
  redraw();
}

function addFrame() {
  frames.push(JSON.parse(JSON.stringify(objects)));
  alert(`Fotograma ${frames.length} guardado.`);
}

function playAnimation() {
  let i = 0;
  const interval = setInterval(() => {
    if (i >= frames.length) {
      clearInterval(interval);
      return;
    }
    objects = JSON.parse(JSON.stringify(frames[i]));
    redraw();
    i++;
  }, 500);
}
</script>
</section>



<!-- Asegúrate de incluir esta línea en tu <head> -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
  footer {
    background-color: #000;
    color: #ccc;
    padding: 30px 20px;
    font-size: 0.8rem;
    text-align: center;
    line-height: 1.5;
    border-top: 2px solid #ff6f00;
    margin-top: 40px;
    font-family: 'Playfair Display', serif;
  }

  footer strong {
    color: #fff;
    font-weight: 700;
  }

  footer em {
    color: #ffa726;
    font-style: normal;
    font-weight: 400;
  }

  footer a {
    color: #F6BE00;
    text-decoration: none;
    font-weight: 500;
  }

  footer a:hover {
    text-decoration: underline;
  }

  .enlaces-footer {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
  }

  .enlaces-footer a {
    white-space: nowrap;
  }

  .contador-visitas {
    margin-top: 25px;
  }

  .contador-visitas img {
    max-width: 100px;
    opacity: 0.9;
  }

  .doi-badge img,
  .cc-logo img {
    vertical-align: middle;
    height: 20px;
    margin: 0 5px;
  }
</style>

<footer>
  © 2024 — Herramientas del Proyecto de Investigación: <strong>*Emociones en el Aula*</strong><br>
  Propuesta educativa y cultural creada por <strong>Yobana Orozco Benavides</strong>, Escritora | Docente | Gestora de proyectos artísticos y pedagógicos<br><br>
  
  Licencia: 
  <em>Creative Commons Atribución-NoComercial 4.0 Internacional (CC BY-NC 4.0)</em>
  <span class="cc-logo">
    <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">
      <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt="CC Logo">
    </a>
  </span>
  <br>
  Uso libre con fines educativos — <strong>prohibido uso comercial</strong><br><br>

  Más información de la autora: 
  <a href="https://yobanaorozcoartista.bio.link/" target="_blank" rel="noopener">yobanaorozcoartista.bio.link</a>

  <div class="enlaces-footer">
    <a href="https://orcid.org/0009-0002-9253-6429" target="_blank">ORCID</a>
    <a href="https://www.webofscience.com/wos/?mode=Nextgen&path=%2Fwos%2Fauthor%2Frecord%2FLLM-9647-2024&IsProductCode=Yes&Init=Yes&DestApp=UA&Func=Frame&action=transfer&SrcApp=CR&SID=USW2EC0AFFb0eJYIUmqxKCgZWIVbn" target="_blank">Web of Science</a>
    <a href="https://account.ncbi.nlm.nih.gov/?back_url=https%3A%2F%2Fwww.ncbi.nlm.nih.gov%2Fmyncbi%2F" target="_blank">NCBI</a>
    <a href="https://es.slideshare.net/YOBANAOROZCO" target="_blank">SlideShare</a>
    <a href="https://hq.ssrn.com/login/authentication.cfm?rectype=edit&perinf=y&partid=7786766" target="_blank">SSRN</a>
    <a href="https://www.researchgate.net/" target="_blank">ResearchGate</a>
    <a href="https://siise.bibliotecanacional.gov.co/siise/Login?ReturnUrl=%2fsiise%2fSeleccionAdquisiciones%2fSolicitudISSN%2fIndex" target="_blank">SIISE</a>
    <a href="https://scientificrc.org/index.php/src/login?source=%2Findex.php%2Fsrc%2Fsubmission%2Fwizard" target="_blank">Scientific RC</a>
    <a href="https://www.openaire.eu/annual-reports" target="_blank">OpenAIRE</a>
    <a href="https://zenodo.org/" target="_blank">Zenodo</a>
    <a href="https://sso.anii.org.uy/oxauth/login.htm" target="_blank">ANII</a>
    <a href="https://rizoma.conahcyt.mx/acerca-de-mi/mi-perfil" target="_blank">Rizoma CONAHCYT</a>
    <a href="https://papersubmission.scirp.org/paper/showAddPaper" target="_blank">SCIRP Submission</a>
    <a href="https://utolima.academia.edu/YOBANAOROZCOBENAVIDES" target="_blank">Academia.edu</a>
    <a href="https://www.studocu.com/co/user/yobana-orozco-benavides/15382735?origin=user-menu" target="_blank">Studocu</a>
    <a href="https://www.calameo.com/accounts/7997056" target="_blank">Calameo</a>
    <a href="https://www.amazon.com.mx/stores/YOBANA-OROZCO-BENAVIDES/author/B0CZG5RS1T?ref=ap_rdr&isDramIntegrated=true&shoppingPortalEnabled=true" target="_blank">Amazon</a>
  </div>

  <div class="contador-visitas">
    <div id="sfcxkbjllp5nj44et8c3m1rxt76k9y2uqzx"></div>
    <script type="text/javascript" src="https://counter1.optistats.ovh/private/counter.js?c=xkbjllp5nj44et8c3m1rxt76k9y2uqzx&down=async" async></script>
    <noscript>
      <a href="https://www.freecounterstat.com" title="page view counter">
        <img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=xkbjllp5nj44et8c3m1rxt76k9y2uqzx" border="0" title="page view counter" alt="page view counter">
      </a>
    </noscript>
  </div>
</footer>
